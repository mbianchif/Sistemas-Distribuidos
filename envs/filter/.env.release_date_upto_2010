# todos los exchanges son directos ahora, hay que borrar:
INPUT_EXCHANGE_TYPES=
OUTPUT_EXCHANGE_TYPE=

# todas las colas van a tener como key el nombre + el numero de id del nodo
#
# Ejemplo:
# COPY_ID=1
# filter-release_date_upto_2010-%d
# Quedaria filter-release_date_upto_2010-1
#
# Hay que borrar:
INPUT_QUEUE_KEYS=
OUTPUT_QUEUE_KEYS=

# hay que modificar los queue names para que terminen todos con -%d
INPUT_QUEUE_NAMES=filter-release_date_upto_2010
OUTPUT_EXCHANGE_NAME=filter-release_date_upto_2010

# hay que definir el tipo de delivery, este es 1 por cada tipo de nodo
# que tengamos abajo, si hay 10 copias de sink-1, entonces va un solo direct
OUTPUT_DELIVERY_TYPES=direct


# Input
INPUT_EXCHANGE_NAMES=filter-production_countries_argentina_spain

# Output
OUTPUT_QUEUE_NAMES=sink-1
OUTPUT_DELIVERY_TYPES=direct

# Worker
SELECT=title,genres

# Filter
HANDLER=range
KEY=release_date
VALUE=,2010


# Dentro del compose hay que definir la cantidad de copias por cada nodo
# y tambien definir el tipo de delivery

# .env
RABBIT_URL=amqp://guest@guest.fi.uba.ar

# venvs
ID=1
INPUT_EXCHANGE_NAMES=sanitize-credits,filter-release_date_since_2000
INPUT_QUEUE_NAMES=join-sanitize-id_id,join-filter-id_id

OUTPUT_EXCHANGE_NAME=join-id_id
OUTPUT_QUEUE_NAMES=explode-cast

# compose
OUTPUT_COPIES=2 # debe tener el mismo largo que OUTPUT_QUEUE_NAMES